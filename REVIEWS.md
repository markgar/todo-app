# Code Review Findings

- [ ] **src/TodoApp.Api/Program.cs (POST /api/todos)**: Mass assignment vulnerability — the endpoint binds the full `TodoItem` model from the request body, allowing clients to set `Id` and `IsComplete` directly. The spec says POST accepts only `title`. Fix: accept a DTO or anonymous type with only `Title`, and let the server assign `Id` and default `IsComplete` to `false`.
- [ ] **src/TodoApp.Api/Program.cs (PUT /api/todos/{id})**: No validation on `input.Title` — a client can send a null or empty `Title`, violating the `required` constraint on the model and leaving the todo in an inconsistent state. Fix: return 400 (Bad Request) if `Title` is null or empty before applying the update.
- [ ] **src/TodoApp.Api/Program.cs (POST /api/todos)**: No validation that `Title` is non-empty — a client can POST `{"title": ""}` and the API will persist a todo with a blank title. The `required` keyword only enforces C# initialization, not runtime content validation. Fix: return 400 if `Title` is null, empty, or whitespace before saving.
- [ ] **tests/TodoApp.Data.Tests/TodoApp.Data.Tests.csproj**: xUnit major-version mismatch — `xunit` 2.9.3 (v2, deprecated) is mixed with `xunit.runner.visualstudio` 3.1.4 (v3), which can cause test discovery or execution failures. Fix: either upgrade to xUnit v3 consistently or pin the runner to a v2-compatible version (e.g., `xunit.runner.visualstudio` 2.5.6).
